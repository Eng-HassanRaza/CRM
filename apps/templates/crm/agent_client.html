{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
            <div>
                <a href="{% url 'agent_client_add' %}" class="btn btn-secondary text-dark mr-2 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="fas fa-plus mr-2"></span>Add
                </a>
            </div>

    <div>
                 <form id="exceluploadform" method="post" enctype="multipart/form-data">
    {% csrf_token %}


            <div class="x_content input-group">

                <input type="file" name="file" class="form-control" required>
                <button type="submit" class="btn btn-primary" >Import Excel</button>
                <br/>
            </div>
  </form>


                <div class="form-file mb-3" style="display:none">
                    <input type="file" class="" id="customFile">
                    <label class="form-file-label" for="customFile">
                        <span class="form-file-text">Choose file...</span>
                        <span class="form-file-button">Browse</span>
                    </label>
                </div>
            </div>

        </div>
<div class="card border-light shadow-sm mb-4">
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-centered table-nowrap mb-0 rounded">
                      <thead class="thead-light">
                          <tr>
                              <th class="border-0">#</th>
                              <th class="border-0">Appointment Scheduled</th>
                              <th class="border-0">Product</th>
                              <th class="border-0">Name</th>
                              <th class="border-0">Surname</th>
                              <th class="border-0">Gender</th>
                              <th class="border-0">Phone Number</th>
                          </tr>
                      </thead>
                      <tbody>
                          <!-- Item -->
                          {%for data in agent_data %}
                          <tr>
                              <td class="border-0"><a href="#" class="text-primary font-weight-bold">{{forloop.counter}}</a> </td>
                              <td class="border-0 font-weight-bold"><span class="icon icon-xs icon-gray w-30"><span class="fas fa-globe-europe"></span></span>{{data.appointment_scheduled}}</td>
                              <td class="border-0">
                                  {{data.product}}
                              </td>
                              <td class="border-0">
                                  {{data.name}}
                              </td>
                              <td class="border-0">
                                  {{data.surname}}
                              </td>
                              <td class="border-0">
                                  {{data.gender}}
                              </td>
                              <td class="border-0">
                                  {{data.phone_number}}
                              </td>

                          </tr>
                          {%endfor%}
                          <!-- End of Item -->


                      </tbody>
                  </table>
              </div>
          </div>
      </div>


{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<script>
    $("#importbtn").click(function(e){
        $("#customFile").click();
    });
</script>
{% endblock javascripts %}
